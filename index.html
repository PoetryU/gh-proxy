<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="UTF-8">
	<link rel="shortcut icon" href="favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GitHub 文件加速</title>
    <link rel="stylesheet" href="styles.css">
    <script>
        function toSubmit(e) {
            e.preventDefault();
            window.open(location.href.substr(0, location.href.lastIndexOf('/') + 1) + document.getElementsByName('q')[0].value);
            return false;
        }
    </script>
</head>
<body>
    <header>
        <h1>GitHub 文件加速</h1>
    </header>
    
    <main>
        
        <form action="./" method="get" class="form" onsubmit="toSubmit(event)">
            <label>
                <input type="text" name="q" placeholder="键入Github文件链接" pattern="^((https|http):\/\/)?(github\.com\/.+?\/.+?\/(?:releases|archive|blob|raw|suites)|((?:raw|gist)\.(?:githubusercontent|github)\.com))\/.+$" required>
            </label>
            <button type="submit">下载</button>
        </form>
        <section class="tips">
            <p>GitHub文件链接带不带协议头都可以，支持release、archive以及文件，右键复制出来的链接都是符合标准的。</p>
            <p>release、archive使用cf加速，文件会跳转至JsDelivr</p>
            <strong><p>注意，不支持项目文件夹</p></strong>
        </section>
        <section class="examples">
            <h2>合法输入示例：</h2>
            <p>分支源码：https://github.com/PoetryU/project/archive/master.zip</p>
            <p>release源码：https://github.com/PoetryU/project/archive/v0.1.0.tar.gz</p>
            <p>release文件：https://github.com/PoetryU/project/releases/download/v0.1.0/example.zip</p>
            <p>分支文件：https://github.com/PoetryU/project/blob/master/filename</p>
        </section>
    </main>
    <footer>
        <p> Powered by Cloudflare Workers </p>
    </footer>
</body>
</html>